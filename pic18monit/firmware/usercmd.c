/********************************************************************
 *	ユーザー定義関数の実行
 ********************************************************************
 */
#include <stdio.h>
#include <string.h>

#include "usb/usb.h"
#include "io_cfg.h"
#include "monit.h"
#include "hidcmd.h"

#pragma udata
/********************************************************************
 *	データ
 ********************************************************************
 */

#pragma code
/**********************************************************************
 *	LED1 blink (生存反応)
 **********************************************************************
 */
static void LED1_blink(void)
{
	static	ushort cnt=0;
	cnt++;
	if(cnt & 0x800) mLED_1 = 1;
	else            mLED_1 = 0;
}
/********************************************************************
 *	
 ********************************************************************
 */
void user_cmd(int arg)
{
	ushort i,j;
	for(j=0;j<8;j++) {
//		printf("Hello :");
		fputs("Hello :",stdout);
		for(i=0;i<50;i++) {
			putc( i + ' ' ,stdout );
//			USBtask();
			LED1_blink();
		}
//		printf("\n");
		fputs("\n",stdout);
	}
	if(arg) {mLED_1_Toggle();}
	else    {mLED_2_Toggle();}
}
/********************************************************************
 *	
 ********************************************************************
 */
